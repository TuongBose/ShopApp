2025-08-01 10:48:13.958 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 10:48:14.026 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 18052 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 10:48:14.027 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 10:48:15.458 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:48:15.458 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 10:48:15.636 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 164 ms. Found 12 JPA repository interfaces.
2025-08-01 10:48:15.642 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:48:15.642 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:48:15.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-08-01 10:48:16.826 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 10:48:16.826 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 10:48:16.842 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 10:48:16.842 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 10:48:16.936 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 10:48:16.936 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2868 ms
2025-08-01 10:48:17.355 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 10:48:17.355 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:48:17.355 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 10:48:17.355 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 10:48:17.356 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:48:17.356 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 10:48:17.356 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 10:48:17.356 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 10:48:17.356 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:48:17.356 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 10:48:17.358 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 10:48:17.359 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 10:48:17.360 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 10:48:17.360 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 10:48:17.361 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 10:48:17.361 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 10:48:17.361 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 10:48:17.361 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 10:48:17.361 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 10:48:17.467 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtTokenFilter' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\filters\JwtTokenFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'securityConfig' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\configurations\SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountRepository' defined in com.project.Shopapp.repositories.AccountRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-08-01 10:48:17.483 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-01 10:48:17.483 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-08-01 10:48:17.498 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 10:48:17.530 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.Shopapp.ShopappApplication.main(ShopappApplication.java:10)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:520)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtTokenFilter' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\filters\JwtTokenFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'securityConfig' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\configurations\SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountRepository' defined in com.project.Shopapp.repositories.AccountRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\configurations\SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountRepository' defined in com.project.Shopapp.repositories.AccountRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'accountRepository' defined in com.project.Shopapp.repositories.AccountRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1460)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 77 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 90 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [com/project/Shopapp/configurations/FlywayConfig.class]: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception with message: Unable to obtain connection from database: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
SQL State  : 08S01
Error Code : 0
Message    : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.

	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 102 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception with message: Unable to obtain connection from database: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
SQL State  : 08S01
Error Code : 0
Message    : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.

	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 114 common frames omitted
Caused by: org.flywaydb.core.internal.exception.sqlExceptions.FlywaySqlUnableToConnectToDbException: Unable to obtain connection from database: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
SQL State  : 08S01
Error Code : 0
Message    : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.

	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:70)
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:76)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:136)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at com.project.Shopapp.configurations.FlywayConfig.flyway(FlywayConfig.java:33)
	at com.project.Shopapp.configurations.FlywayConfig$$SpringCGLIB$$0.CGLIB$flyway$1(<generated>)
	at com.project.Shopapp.configurations.FlywayConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:372)
	at com.project.Shopapp.configurations.FlywayConfig$$SpringCGLIB$$0.flyway(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	... 117 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:165)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:55)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:837)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:420)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:238)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:180)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:191)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:155)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:146)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)
	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:65)
	... 129 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:156)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:79)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:142)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:961)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	... 139 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:144)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:53)
	... 142 common frames omitted
2025-08-01 10:50:08.175 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 10:50:08.236 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 5304 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 10:50:08.237 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 10:50:09.949 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:50:09.950 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 10:50:10.147 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 190 ms. Found 12 JPA repository interfaces.
2025-08-01 10:50:10.186 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:50:10.188 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:50:10.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-08-01 10:50:11.843 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 10:50:11.858 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 10:50:11.861 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 10:50:11.861 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 10:50:11.961 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 10:50:11.962 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3682 ms
2025-08-01 10:50:12.519 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 10:50:12.519 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:50:12.519 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 10:50:12.520 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 10:50:12.520 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:50:12.520 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 10:50:12.520 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 10:50:12.520 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 10:50:12.520 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:50:12.521 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 10:50:12.522 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 10:50:12.522 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 10:50:12.524 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 10:50:12.524 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 10:50:12.524 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 10:50:12.524 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 10:50:12.524 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 10:50:12.524 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 10:50:12.524 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 10:50:12.993 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 10:50:12.994 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 10:50:12.994 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 10:50:12.994 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 10:50:12.995 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 10:50:12.995 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 10:50:13.006 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 10:50:13.006 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 10:50:13.006 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 10:50:13.006 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 10:50:13.008 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 10:50:13.008 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 10:50:13.031 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 10:50:13.032 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 10:50:13.035 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 10:50:13.044 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 10:50:13.049 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:50:13.060 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:50:13.060 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:50:13.060 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:50:13.060 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:50:13.060 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:50:13.060 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:50:13.061 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:50:13.061 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:50:13.061 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:50:13.061 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:50:13.061 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:50:13.061 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:50:13.062 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:50:13.090 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.045s)
2025-08-01 10:50:13.098 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 10:50:13.114 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:50:13.121 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 5
2025-08-01 10:50:13.123 [main] DEBUG o.f.core.internal.parser.Parser - Parsing V6__create_favorites_table.sql ...
2025-08-01 10:50:13.132 [main] DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE favorites (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT,
    product_id INT,
    FOREIGN KEY (user_id) REFERENCES accounts(USERID),
    FOREIGN KEY (product_id) REFERENCES sanpham(MASANPHAM)
)
2025-08-01 10:50:13.136 [main] DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema `shopapp` to version "6 - create favorites table" ...
2025-08-01 10:50:13.141 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema `shopapp` to version "6 - create favorites table"
2025-08-01 10:50:13.144 [main] DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE favorites (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT,
    product_id INT,
    FOREIGN KEY (user_id) REFERENCES accounts(USERID),
    FOREIGN KEY (product_id) REFERENCES sanpham(MASANPHAM)
)
2025-08-01 10:50:13.187 [main] DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-08-01 10:50:13.187 [main] DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema `shopapp` to version "6 - create favorites table"
2025-08-01 10:50:13.219 [main] DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table `shopapp`.`flyway_schema_history` successfully updated to reflect changes
2025-08-01 10:50:13.244 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:50:13.279 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema `shopapp`, now at version v6 (execution time 00:00.051s)
2025-08-01 10:50:13.325 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 58 of 304M
2025-08-01 10:50:13.619 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 10:50:13.706 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 10:50:13.752 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 10:50:14.082 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 10:50:14.178 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@1987807b']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 10:50:15.923 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 10:50:15.926 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 10:50:16.288 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 10:50:17.166 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtTokenFilter' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\filters\JwtTokenFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'securityConfig' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\configurations\SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountRepository' defined in com.project.Shopapp.repositories.AccountRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); No property 'FACEBOOK' found for type 'Account'
2025-08-01 10:50:17.184 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-01 10:50:17.185 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [lettuce-eventExecutorLoop-1-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 io.netty.util.concurrent.SingleThreadEventExecutor.takeTask(SingleThreadEventExecutor.java:256)
 io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:64)
 io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
 io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 10:50:17.185 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [lettuce-timer-3-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:509)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:598)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:494)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 10:50:17.188 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-08-01 10:50:17.188 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 10:50:17.318 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 10:50:17.334 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.Shopapp.ShopappApplication.main(ShopappApplication.java:10)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:520)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtTokenFilter' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\filters\JwtTokenFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'securityConfig' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\configurations\SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountRepository' defined in com.project.Shopapp.repositories.AccountRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); No property 'FACEBOOK' found for type 'Account'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\configurations\SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'accountRepository' defined in com.project.Shopapp.repositories.AccountRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); No property 'FACEBOOK' found for type 'Account'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'accountRepository' defined in com.project.Shopapp.repositories.AccountRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); No property 'FACEBOOK' found for type 'Account'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 77 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); No property 'FACEBOOK' found for type 'Account'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:440)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 87 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.Optional com.project.Shopapp.repositories.AccountRepository.findByFACEBOOK_ACCOUNT_ID(java.lang.String); No property 'FACEBOOK' found for type 'Account'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 99 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'FACEBOOK' found for type 'Account'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 103 common frames omitted
2025-08-01 10:54:59.629 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 10:54:59.685 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 17584 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 10:54:59.686 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 10:55:01.056 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:55:01.056 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 10:55:01.219 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 12 JPA repository interfaces.
2025-08-01 10:55:01.239 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:55:01.239 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.269 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.271 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.271 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:55:01.271 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-01 10:55:02.361 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 10:55:02.371 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 10:55:02.371 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 10:55:02.371 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 10:55:02.457 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 10:55:02.462 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2729 ms
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 10:55:02.903 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 10:55:03.269 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 10:55:03.269 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 10:55:03.269 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 10:55:03.269 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 10:55:03.269 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 10:55:03.269 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 10:55:03.285 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 10:55:03.285 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 10:55:03.286 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 10:55:03.286 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 10:55:03.287 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 10:55:03.287 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 10:55:03.311 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 10:55:03.312 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 10:55:03.314 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 10:55:03.323 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 10:55:03.328 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:55:03.337 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:55:03.363 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.038s)
2025-08-01 10:55:03.370 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 10:55:03.383 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:55:03.390 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 6
2025-08-01 10:55:03.394 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2025-08-01 10:55:03.403 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 71 of 300M
2025-08-01 10:55:03.557 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 10:55:03.661 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 10:55:03.707 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 10:55:04.004 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 10:55:04.111 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@681b42d3']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 10:55:05.465 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 10:55:05.467 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 10:55:05.716 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 10:55:06.850 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 10:55:07.027 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-01 10:55:07.027 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-01 10:55:07.065 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception
2025-08-01 10:55:07.065 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\') or hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception
2025-08-01 10:55:07.105 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:55:07.546 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CTDHController' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\controllers\CTDHController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'CTDHService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\ctdh\CTDHService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'donHangRepository' defined in com.project.Shopapp.repositories.DonHangRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); Reason: Failed to create query for method public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); No property 'MASANPHAM' found for type 'DonHang'
2025-08-01 10:55:07.546 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 10:55:07.693 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-01 10:55:07.711 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 10:55:07.727 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CTDHController' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\controllers\CTDHController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'CTDHService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\ctdh\CTDHService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'donHangRepository' defined in com.project.Shopapp.repositories.DonHangRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); Reason: Failed to create query for method public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); No property 'MASANPHAM' found for type 'DonHang'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.Shopapp.ShopappApplication.main(ShopappApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CTDHService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\ctdh\CTDHService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'donHangRepository' defined in com.project.Shopapp.repositories.DonHangRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); Reason: Failed to create query for method public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); No property 'MASANPHAM' found for type 'DonHang'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'donHangRepository' defined in com.project.Shopapp.repositories.DonHangRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); Reason: Failed to create query for method public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); No property 'MASANPHAM' found for type 'DonHang'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); Reason: Failed to create query for method public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); No property 'MASANPHAM' found for type 'DonHang'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:440)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.project.Shopapp.repositories.DonHangRepository.findByMASANPHAM(com.project.Shopapp.models.SanPham); No property 'MASANPHAM' found for type 'DonHang'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'MASANPHAM' found for type 'DonHang'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 61 common frames omitted
2025-08-01 10:56:59.654 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 10:56:59.705 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 18384 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 10:56:59.705 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 10:57:01.049 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:57:01.059 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 10:57:01.214 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 148 ms. Found 12 JPA repository interfaces.
2025-08-01 10:57:01.224 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:57:01.224 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.255 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.255 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.255 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:57:01.255 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-08-01 10:57:02.336 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 10:57:02.346 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 10:57:02.346 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 10:57:02.346 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 10:57:02.427 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 10:57:02.427 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2679 ms
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 10:57:02.910 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 10:57:02.915 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 10:57:02.915 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 10:57:02.915 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 10:57:02.915 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 10:57:02.915 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 10:57:02.915 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 10:57:02.915 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 10:57:03.280 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 10:57:03.280 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 10:57:03.280 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 10:57:03.280 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 10:57:03.280 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 10:57:03.280 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 10:57:03.291 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 10:57:03.292 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 10:57:03.292 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 10:57:03.292 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 10:57:03.293 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 10:57:03.293 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 10:57:03.308 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 10:57:03.308 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 10:57:03.316 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 10:57:03.325 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 10:57:03.330 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:57:03.338 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:57:03.338 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:57:03.338 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:57:03.338 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:57:03.338 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:57:03.338 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:57:03.339 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:57:03.339 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:57:03.339 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:57:03.339 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:57:03.339 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:57:03.339 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:57:03.340 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:57:03.362 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.036s)
2025-08-01 10:57:03.367 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 10:57:03.378 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:57:03.383 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 6
2025-08-01 10:57:03.386 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2025-08-01 10:57:03.395 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 78 of 120M
2025-08-01 10:57:03.491 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 10:57:03.563 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 10:57:03.636 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 10:57:03.986 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 10:57:04.087 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@4ede8888']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 10:57:05.472 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 10:57:05.483 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 10:57:05.758 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 10:57:06.873 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 10:57:07.046 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-01 10:57:07.046 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-01 10:57:07.097 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 10:57:07.097 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.146 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception
2025-08-01 10:57:07.147 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.148 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)
2025-08-01 10:57:07.148 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.148 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception
2025-08-01 10:57:07.148 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.149 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\') or hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception
2025-08-01 10:57:07.149 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.149 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception
2025-08-01 10:57:07.149 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.149 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception
2025-08-01 10:57:07.149 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.563 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 10:57:07.563 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.563 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 10:57:07.563 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.563 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)
2025-08-01 10:57:07.563 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.613 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception
2025-08-01 10:57:07.613 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.623 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception
2025-08-01 10:57:07.623 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.623 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)
2025-08-01 10:57:07.623 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.643 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 10:57:07.643 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.654 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 10:57:07.654 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.654 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception
2025-08-01 10:57:07.654 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:57:07.709 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hinhAnhSanPhamController' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\controllers\HinhAnhSanPhamController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'sanPhamService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\sanpham\SanPhamService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'favoriteRepository' defined in com.project.Shopapp.repositories.FavoriteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
2025-08-01 10:57:07.709 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 10:57:07.838 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-01 10:57:07.873 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 10:57:07.905 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hinhAnhSanPhamController' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\controllers\HinhAnhSanPhamController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'sanPhamService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\sanpham\SanPhamService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'favoriteRepository' defined in com.project.Shopapp.repositories.FavoriteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.Shopapp.ShopappApplication.main(ShopappApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sanPhamService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\sanpham\SanPhamService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'favoriteRepository' defined in com.project.Shopapp.repositories.FavoriteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'favoriteRepository' defined in com.project.Shopapp.repositories.FavoriteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:440)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract com.project.Shopapp.models.Favorite com.project.Shopapp.repositories.FavoriteRepository.findByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 56 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:465)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:488)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 60 common frames omitted
2025-08-01 10:59:19.087 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 10:59:19.144 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 4732 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 10:59:19.146 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 10:59:20.635 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:59:20.637 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 10:59:20.823 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 175 ms. Found 12 JPA repository interfaces.
2025-08-01 10:59:20.838 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 10:59:20.839 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 10:59:20.868 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.869 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.870 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.870 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.872 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.872 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.874 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.875 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.876 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 10:59:20.876 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-08-01 10:59:21.960 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 10:59:21.980 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 10:59:21.980 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 10:59:21.980 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 10:59:22.061 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 10:59:22.061 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2881 ms
2025-08-01 10:59:22.494 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 10:59:22.495 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:59:22.495 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 10:59:22.495 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 10:59:22.495 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:59:22.495 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 10:59:22.495 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 10:59:22.495 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 10:59:22.495 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 10:59:22.496 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 10:59:22.497 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 10:59:22.498 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 10:59:22.499 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 10:59:22.499 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 10:59:22.499 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 10:59:22.499 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 10:59:22.499 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 10:59:22.499 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 10:59:22.499 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 10:59:22.881 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 10:59:22.881 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 10:59:22.881 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 10:59:22.881 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 10:59:22.881 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 10:59:22.881 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 10:59:22.894 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 10:59:22.894 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 10:59:22.894 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 10:59:22.894 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 10:59:22.896 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 10:59:22.896 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 10:59:22.919 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 10:59:22.920 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 10:59:22.923 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 10:59:22.931 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 10:59:22.936 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:59:22.945 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:59:22.945 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:59:22.945 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:59:22.945 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:59:22.945 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:59:22.945 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:59:22.946 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:59:22.946 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:59:22.946 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:59:22.946 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:59:22.946 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:59:22.946 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 10:59:22.947 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 10:59:22.948 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 10:59:22.948 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 10:59:22.969 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.037s)
2025-08-01 10:59:22.976 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 10:59:22.990 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 10:59:22.997 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 6
2025-08-01 10:59:23.000 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2025-08-01 10:59:23.010 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 96 of 304M
2025-08-01 10:59:23.128 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 10:59:23.220 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 10:59:23.262 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 10:59:23.527 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 10:59:23.626 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@1fcc3461']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 10:59:25.078 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 10:59:25.078 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 10:59:25.361 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 10:59:26.450 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 10:59:26.621 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-01 10:59:26.621 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-01 10:59:26.663 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception
2025-08-01 10:59:26.663 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\') or hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception
2025-08-01 10:59:26.714 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.124 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)
2025-08-01 10:59:27.124 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.124 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 10:59:27.124 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.124 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 10:59:27.124 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.165 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)
2025-08-01 10:59:27.165 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.165 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception
2025-08-01 10:59:27.165 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.165 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception
2025-08-01 10:59:27.165 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.206 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception
2025-08-01 10:59:27.206 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.208 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 10:59:27.208 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.208 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 10:59:27.209 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 10:59:27.277 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hinhAnhSanPhamController' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\controllers\HinhAnhSanPhamController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'sanPhamService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\sanpham\SanPhamService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'favoriteRepository' defined in com.project.Shopapp.repositories.FavoriteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
2025-08-01 10:59:27.277 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 10:59:27.405 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-01 10:59:27.420 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 10:59:27.451 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hinhAnhSanPhamController' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\controllers\HinhAnhSanPhamController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'sanPhamService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\sanpham\SanPhamService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'favoriteRepository' defined in com.project.Shopapp.repositories.FavoriteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.Shopapp.ShopappApplication.main(ShopappApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sanPhamService' defined in file [D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\com\project\Shopapp\services\sanpham\SanPhamService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'favoriteRepository' defined in com.project.Shopapp.repositories.FavoriteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'favoriteRepository' defined in com.project.Shopapp.repositories.FavoriteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); Reason: Failed to create query for method public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:440)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract boolean com.project.Shopapp.repositories.FavoriteRepository.existsByUserIdAndProductId(int,int); No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 56 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'id' found for type 'Account'; Traversed path: Favorite.user
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:465)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:488)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 60 common frames omitted
2025-08-01 11:07:11.045 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 11:07:11.096 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 7568 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 11:07:11.096 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 11:07:12.399 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:07:12.399 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 11:07:12.563 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 12 JPA repository interfaces.
2025-08-01 11:07:12.583 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:07:12.583 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:07:12.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-08-01 11:07:13.682 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 11:07:13.689 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 11:07:13.689 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 11:07:13.689 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 11:07:13.772 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 11:07:13.772 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2630 ms
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 11:07:14.211 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 11:07:14.221 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 11:07:14.627 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 11:07:14.627 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 11:07:14.627 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 11:07:14.628 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 11:07:14.628 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 11:07:14.628 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 11:07:14.639 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 11:07:14.639 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 11:07:14.639 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 11:07:14.639 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 11:07:14.640 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 11:07:14.640 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 11:07:14.663 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 11:07:14.664 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 11:07:14.664 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 11:07:14.673 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 11:07:14.677 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:07:14.686 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:07:14.686 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:07:14.686 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:07:14.686 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:07:14.686 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:07:14.686 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:07:14.687 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:07:14.688 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:07:14.713 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.038s)
2025-08-01 11:07:14.719 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 11:07:14.731 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:07:14.736 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 6
2025-08-01 11:07:14.739 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2025-08-01 11:07:14.748 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 56 of 304M
2025-08-01 11:07:14.871 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 11:07:14.940 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 11:07:14.991 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 11:07:15.289 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 11:07:15.390 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@1ab28416']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 11:07:16.763 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 11:07:16.763 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:07:17.008 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 11:07:18.060 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 11:07:18.234 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-01 11:07:18.244 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-01 11:07:18.275 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception
2025-08-01 11:07:18.275 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\') or hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception
2025-08-01 11:07:18.316 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.792 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:07:18.792 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.792 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:07:18.792 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.792 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)
2025-08-01 11:07:18.792 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.833 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)
2025-08-01 11:07:18.833 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.833 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception
2025-08-01 11:07:18.833 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.833 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception
2025-08-01 11:07:18.833 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.865 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception
2025-08-01 11:07:18.874 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.874 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:07:18.874 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.874 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:07:18.874 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:18.947 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:07:18.947 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.HinhAnhSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.002 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception
2025-08-01 11:07:19.002 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.004 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)
2025-08-01 11:07:19.005 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.005 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)
2025-08-01 11:07:19.005 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.030 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception
2025-08-01 11:07:19.040 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:07:19.736 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/api/v1/actuator'
2025-08-01 11:07:19.929 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure Or [Mvc [pattern='EndpointRequestMatcher includes=[*], excludes=[], includeLinks=true']] with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-01 11:07:20.116 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-08-01 11:07:20.550 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientHttpRequestFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/http/client/HttpClientAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
2025-08-01 11:07:20.559 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:07:20.696 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-01 11:07:20.705 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 11:07:20.728 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientHttpRequestFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/http/client/HttpClientAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.Shopapp.ShopappApplication.main(ShopappApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 21 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder.httpComponents(ClientHttpRequestFactoryBuilder.java:97)
	at org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder.detect(ClientHttpRequestFactoryBuilder.java:200)
	at org.springframework.boot.autoconfigure.http.client.HttpClientAutoConfiguration.clientHttpRequestFactoryBuilder(HttpClientAutoConfiguration.java:53)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	... 24 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.hc.client5.http.ssl.TlsSocketStrategy
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 30 common frames omitted
2025-08-01 11:10:17.549 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 11:10:17.620 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 17536 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 11:10:17.621 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 11:10:19.817 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:10:19.818 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 11:10:20.049 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 220 ms. Found 12 JPA repository interfaces.
2025-08-01 11:10:20.079 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:10:20.082 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 11:10:20.113 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.114 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.114 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.114 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.117 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.117 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.117 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:10:20.117 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-08-01 11:10:21.565 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 11:10:21.587 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 11:10:21.592 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 11:10:21.592 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 11:10:21.731 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 11:10:21.734 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4068 ms
2025-08-01 11:10:22.376 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 11:10:22.376 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:10:22.377 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 11:10:22.377 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 11:10:22.377 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:10:22.377 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 11:10:22.377 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 11:10:22.377 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 11:10:22.377 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:10:22.378 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 11:10:22.379 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 11:10:22.379 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 11:10:22.381 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 11:10:22.382 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 11:10:22.382 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 11:10:22.382 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 11:10:22.382 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 11:10:22.382 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 11:10:22.382 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 11:10:22.869 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 11:10:22.870 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 11:10:22.870 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 11:10:22.871 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 11:10:22.871 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 11:10:22.871 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 11:10:22.884 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 11:10:22.884 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 11:10:22.884 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 11:10:22.884 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 11:10:22.885 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 11:10:22.886 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 11:10:22.918 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 11:10:22.919 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 11:10:22.921 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 11:10:22.933 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 11:10:22.941 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:10:22.958 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:10:22.959 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:10:22.959 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:10:22.959 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:10:22.959 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:10:22.959 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:10:22.961 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:10:22.961 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:10:22.961 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:10:22.961 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:10:22.961 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:10:22.962 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:10:22.967 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:10:22.968 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:10:22.968 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:10:22.969 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:10:22.969 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:10:22.969 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:10:22.970 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:10:22.970 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:10:22.970 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:10:22.970 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:10:22.970 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:10:22.970 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:10:22.999 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.064s)
2025-08-01 11:10:23.006 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 11:10:23.020 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:10:23.027 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 6
2025-08-01 11:10:23.031 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2025-08-01 11:10:23.042 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 104 of 296M
2025-08-01 11:10:23.234 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 11:10:23.295 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 11:10:23.342 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 11:10:23.728 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 11:10:23.850 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@1ab28416']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 11:10:25.358 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 11:10:25.361 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:10:25.645 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 11:10:26.783 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 11:10:26.953 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-01 11:10:26.954 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-01 11:10:26.997 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception
2025-08-01 11:10:27.000 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.041 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception
2025-08-01 11:10:27.042 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.043 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)
2025-08-01 11:10:27.043 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.043 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception
2025-08-01 11:10:27.043 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.044 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:10:27.044 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.044 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception
2025-08-01 11:10:27.044 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.044 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\') or hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception
2025-08-01 11:10:27.044 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.506 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:10:27.506 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.508 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:10:27.509 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.509 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)
2025-08-01 11:10:27.509 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.547 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)
2025-08-01 11:10:27.548 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.550 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception
2025-08-01 11:10:27.551 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.551 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception
2025-08-01 11:10:27.551 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.584 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception
2025-08-01 11:10:27.584 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.585 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:10:27.586 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.586 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:10:27.586 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.668 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:10:27.668 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.HinhAnhSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.721 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)
2025-08-01 11:10:27.721 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.723 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception
2025-08-01 11:10:27.723 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.723 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)
2025-08-01 11:10:27.723 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.751 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception
2025-08-01 11:10:27.751 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.754 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception
2025-08-01 11:10:27.754 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.754 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)
2025-08-01 11:10:27.755 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.755 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception
2025-08-01 11:10:27.755 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:27.755 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception
2025-08-01 11:10:27.755 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:10:28.284 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/api/v1/actuator'
2025-08-01 11:10:28.463 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure Or [Mvc [pattern='EndpointRequestMatcher includes=[*], excludes=[], includeLinks=true']] with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-01 11:10:28.626 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-08-01 11:10:29.018 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientHttpRequestFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/http/client/HttpClientAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
2025-08-01 11:10:29.026 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:10:29.148 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-01 11:10:29.163 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 11:10:29.176 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientHttpRequestFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/http/client/HttpClientAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.Shopapp.ShopappApplication.main(ShopappApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 21 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder.httpComponents(ClientHttpRequestFactoryBuilder.java:97)
	at org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder.detect(ClientHttpRequestFactoryBuilder.java:200)
	at org.springframework.boot.autoconfigure.http.client.HttpClientAutoConfiguration.clientHttpRequestFactoryBuilder(HttpClientAutoConfiguration.java:53)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	... 24 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.hc.client5.http.ssl.TlsSocketStrategy
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 30 common frames omitted
2025-08-01 11:13:02.332 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 11:13:02.472 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 12652 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 11:13:02.473 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 11:13:04.254 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:13:04.255 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 11:13:04.423 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 160 ms. Found 12 JPA repository interfaces.
2025-08-01 11:13:04.441 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:13:04.443 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 11:13:04.468 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.469 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.469 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.469 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.470 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.470 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.470 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.470 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.470 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.473 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.473 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.474 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:04.474 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-08-01 11:13:05.644 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 11:13:05.661 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 11:13:05.663 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 11:13:05.663 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 11:13:05.754 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 11:13:05.755 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3224 ms
2025-08-01 11:13:06.198 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:13:06.199 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 11:13:06.201 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 11:13:06.201 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 11:13:06.203 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 11:13:06.203 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 11:13:06.204 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 11:13:06.204 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 11:13:06.204 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 11:13:06.204 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 11:13:06.204 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 11:13:06.610 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 11:13:06.611 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 11:13:06.611 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 11:13:06.611 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 11:13:06.611 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 11:13:06.611 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 11:13:06.620 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 11:13:06.620 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 11:13:06.620 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 11:13:06.620 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 11:13:06.622 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 11:13:06.622 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 11:13:06.642 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 11:13:06.643 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 11:13:06.645 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 11:13:06.652 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 11:13:06.657 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:13:06.666 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:13:06.667 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:13:06.667 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:13:06.667 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:13:06.667 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:13:06.667 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:13:06.669 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:13:06.700 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.045s)
2025-08-01 11:13:06.708 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 11:13:06.721 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:13:06.725 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 6
2025-08-01 11:13:06.729 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2025-08-01 11:13:06.738 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 55 of 92M
2025-08-01 11:13:06.876 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 11:13:06.971 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 11:13:07.012 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 11:13:07.337 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 11:13:07.458 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@571db8b4']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 11:13:08.983 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 11:13:08.987 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:13:09.295 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 11:13:10.360 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 11:13:10.539 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-01 11:13:10.540 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-01 11:13:10.598 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception
2025-08-01 11:13:10.600 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:10.639 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception
2025-08-01 11:13:10.639 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:10.639 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:13:10.639 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:10.640 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)
2025-08-01 11:13:10.640 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:10.640 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception
2025-08-01 11:13:10.640 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:10.641 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\') or hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception
2025-08-01 11:13:10.641 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:10.641 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception
2025-08-01 11:13:10.641 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.085 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:13:11.085 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.087 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:13:11.088 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.088 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)
2025-08-01 11:13:11.096 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.137 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)
2025-08-01 11:13:11.137 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.140 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception
2025-08-01 11:13:11.140 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.140 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception
2025-08-01 11:13:11.140 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.177 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception
2025-08-01 11:13:11.177 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.179 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:13:11.179 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.179 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:13:11.179 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.261 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:13:11.262 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.HinhAnhSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.317 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception
2025-08-01 11:13:11.318 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.322 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)
2025-08-01 11:13:11.322 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.323 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)
2025-08-01 11:13:11.323 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.353 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception
2025-08-01 11:13:11.354 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.358 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception
2025-08-01 11:13:11.358 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.359 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)
2025-08-01 11:13:11.359 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.359 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception
2025-08-01 11:13:11.359 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.359 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception
2025-08-01 11:13:11.360 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:13:11.960 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/api/v1/actuator'
2025-08-01 11:13:12.164 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure Or [Mvc [pattern='EndpointRequestMatcher includes=[*], excludes=[], includeLinks=true']] with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-01 11:13:12.356 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-08-01 11:13:13.163 [main] INFO  o.a.k.c.admin.AdminClientConfig - AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-08-01 11:13:13.290 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.8.1
2025-08-01 11:13:13.291 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 70d6ff42debf7e17
2025-08-01 11:13:13.291 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1754021593289
2025-08-01 11:13:13.631 [kafka-admin-client-thread | adminclient-1] WARN  o.a.k.clients.admin.KafkaAdminClient - [AdminClient clientId=adminclient-1] The DescribeTopicPartitions API is not supported, using Metadata API to describe topics.
2025-08-01 11:13:13.637 [kafka-admin-client-thread | adminclient-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.admin.client for adminclient-1 unregistered
2025-08-01 11:13:13.641 [kafka-admin-client-thread | adminclient-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-08-01 11:13:13.641 [kafka-admin-client-thread | adminclient-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-08-01 11:13:13.642 [kafka-admin-client-thread | adminclient-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-08-01 11:13:13.646 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-01 11:13:13.658 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-01 11:13:13.682 [main] INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-groupA-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = groupA
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer

2025-08-01 11:13:13.723 [main] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-08-01 11:13:13.766 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.8.1
2025-08-01 11:13:13.766 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 70d6ff42debf7e17
2025-08-01 11:13:13.767 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1754021593766
2025-08-01 11:13:13.776 [main] INFO  o.a.k.c.c.i.LegacyKafkaConsumer - [Consumer clientId=consumer-groupA-1, groupId=groupA] Subscribed to topic(s): get-all-categories, insert-a-category
2025-08-01 11:13:13.800 [groupA-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cluster ID: osLRuSnKRPO9CdS1LJ8KLw
2025-08-01 11:13:13.801 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Discovered group coordinator 127.0.0.1:9092 (id: 2147483646 rack: null)
2025-08-01 11:13:13.802 [main] INFO  c.project.Shopapp.ShopappApplication - Started ShopappApplication in 12.02 seconds (process running for 12.797)
2025-08-01 11:13:13.804 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:13:13.823 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: need to re-join with the given member-id: consumer-groupA-1-1f567533-dbaf-4785-b564-aa6f15f776a7
2025-08-01 11:13:13.823 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:13:14.215 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=12, memberId='consumer-groupA-1-1f567533-dbaf-4785-b564-aa6f15f776a7', protocol='range'}
2025-08-01 11:13:14.222 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=12, memberId='consumer-groupA-1-1f567533-dbaf-4785-b564-aa6f15f776a7', protocol='range'}
2025-08-01 11:13:14.226 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[get-all-categories-0, insert-a-category-0])
2025-08-01 11:13:14.229 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: get-all-categories-0, insert-a-category-0
2025-08-01 11:13:14.244 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition get-all-categories-0 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9093 (id: 2 rack: null)], epoch=0}}
2025-08-01 11:13:14.244 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition insert-a-category-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9092 (id: 1 rack: null)], epoch=0}}
2025-08-01 11:13:14.246 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:13:39.371 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions get-all-categories-0, insert-a-category-0
2025-08-01 11:13:39.371 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:13:39.371 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Member consumer-groupA-1-1f567533-dbaf-4785-b564-aa6f15f776a7 sending LeaveGroup request to coordinator 127.0.0.1:9092 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2025-08-01 11:13:39.372 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-08-01 11:13:39.372 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: consumer pro-actively leaving the group
2025-08-01 11:13:39.372 [groupA-0-C-1] INFO  o.a.k.c.c.i.LegacyKafkaConsumer - [Consumer clientId=consumer-groupA-1, groupId=groupA] Unsubscribed all topics or patterns and assigned partitions
2025-08-01 11:13:39.373 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-08-01 11:13:39.374 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: consumer pro-actively leaving the group
2025-08-01 11:13:39.544 [groupA-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-08-01 11:13:39.544 [groupA-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-08-01 11:13:39.544 [groupA-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-08-01 11:13:39.544 [groupA-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-08-01 11:13:39.551 [groupA-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-groupA-1 unregistered
2025-08-01 11:13:39.551 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: Consumer stopped
2025-08-01 11:13:39.553 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-01 11:13:39.560 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-01 11:13:39.685 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:13:55.313 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 11:13:55.369 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 13764 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 11:13:55.370 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 11:13:56.773 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:13:56.774 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 11:13:56.933 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 12 JPA repository interfaces.
2025-08-01 11:13:56.948 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:13:56.949 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 11:13:56.972 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.972 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.973 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.973 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.973 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.973 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.973 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.973 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.974 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.975 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.975 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.975 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:13:56.976 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-08-01 11:13:58.156 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 11:13:58.167 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 11:13:58.169 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 11:13:58.170 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 11:13:58.267 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 11:13:58.268 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2862 ms
2025-08-01 11:13:58.682 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 11:13:58.682 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:13:58.682 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 11:13:58.682 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 11:13:58.682 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:13:58.683 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 11:13:58.683 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 11:13:58.683 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 11:13:58.683 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:13:58.683 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 11:13:58.684 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 11:13:58.684 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 11:13:58.686 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 11:13:58.686 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 11:13:58.686 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 11:13:58.686 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 11:13:58.686 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 11:13:58.686 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 11:13:58.686 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 11:13:59.087 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 11:13:59.088 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 11:13:59.088 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 11:13:59.088 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 11:13:59.088 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 11:13:59.088 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 11:13:59.098 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 11:13:59.098 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 11:13:59.098 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 11:13:59.098 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 11:13:59.099 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 11:13:59.099 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 11:13:59.121 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 11:13:59.122 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 11:13:59.124 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 11:13:59.131 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 11:13:59.135 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:13:59.146 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:13:59.146 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:13:59.146 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:13:59.146 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:13:59.146 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:13:59.146 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:13:59.147 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:13:59.147 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:13:59.147 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:13:59.147 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:13:59.147 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:13:59.147 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:13:59.148 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:13:59.148 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:13:59.148 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:13:59.148 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:13:59.148 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:13:59.148 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:13:59.148 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:13:59.148 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:13:59.149 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:13:59.149 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:13:59.149 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:13:59.149 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:13:59.172 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.040s)
2025-08-01 11:13:59.178 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 11:13:59.188 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:13:59.193 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 6
2025-08-01 11:13:59.196 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2025-08-01 11:13:59.205 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 83 of 108M
2025-08-01 11:13:59.378 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 11:13:59.459 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 11:13:59.495 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 11:13:59.797 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 11:13:59.885 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@1174676f']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 11:14:01.363 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 11:14:01.366 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:14:01.713 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 11:14:02.939 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 11:14:03.132 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-01 11:14:03.133 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-01 11:14:03.222 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception
2025-08-01 11:14:03.224 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.266 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception
2025-08-01 11:14:03.267 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.267 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)
2025-08-01 11:14:03.268 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.268 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:14:03.268 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.268 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception
2025-08-01 11:14:03.269 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.269 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\') or hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception
2025-08-01 11:14:03.269 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.269 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception
2025-08-01 11:14:03.269 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.747 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:14:03.748 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.751 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:14:03.752 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.752 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)
2025-08-01 11:14:03.752 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.803 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)
2025-08-01 11:14:03.804 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.806 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception
2025-08-01 11:14:03.806 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.807 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception
2025-08-01 11:14:03.807 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.840 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception
2025-08-01 11:14:03.840 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.842 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:14:03.842 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.842 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:14:03.842 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.922 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:14:03.923 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.HinhAnhSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.983 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)
2025-08-01 11:14:03.984 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.989 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception
2025-08-01 11:14:03.989 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:03.990 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)
2025-08-01 11:14:03.990 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:04.026 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)
2025-08-01 11:14:04.026 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:04.029 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception
2025-08-01 11:14:04.030 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:04.030 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception
2025-08-01 11:14:04.030 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:04.030 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception
2025-08-01 11:14:04.030 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:04.031 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception
2025-08-01 11:14:04.031 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:14:04.641 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/api/v1/actuator'
2025-08-01 11:14:04.923 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure Or [Mvc [pattern='EndpointRequestMatcher includes=[*], excludes=[], includeLinks=true']] with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-01 11:14:05.147 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-08-01 11:14:05.696 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientHttpRequestFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/http/client/HttpClientAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
2025-08-01 11:14:05.707 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:14:05.824 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-01 11:14:05.843 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 11:14:05.857 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientHttpRequestFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/http/client/HttpClientAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.Shopapp.ShopappApplication.main(ShopappApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder]: Factory method 'clientHttpRequestFactoryBuilder' threw exception with message: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 21 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/hc/client5/http/ssl/TlsSocketStrategy
	at org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder.httpComponents(ClientHttpRequestFactoryBuilder.java:97)
	at org.springframework.boot.http.client.ClientHttpRequestFactoryBuilder.detect(ClientHttpRequestFactoryBuilder.java:200)
	at org.springframework.boot.autoconfigure.http.client.HttpClientAutoConfiguration.clientHttpRequestFactoryBuilder(HttpClientAutoConfiguration.java:53)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	... 24 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.hc.client5.http.ssl.TlsSocketStrategy
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 30 common frames omitted
2025-08-01 11:15:46.099 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-01 11:15:46.162 [main] INFO  c.project.Shopapp.ShopappApplication - Starting ShopappApplication using Java 21.0.8 with PID 16552 (D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes started by Lenovo in D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp)
2025-08-01 11:15:46.163 [main] INFO  c.project.Shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 11:15:47.895 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:15:47.896 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 11:15:48.073 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 168 ms. Found 12 JPA repository interfaces.
2025-08-01 11:15:48.093 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-01 11:15:48.095 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-01 11:15:48.127 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.AccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.128 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponConditionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.128 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CouponRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.CTDHRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.DonHangRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FavoriteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.FeedbackRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.HinhAnhRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.130 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.LoaiSanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.132 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.SanPhamRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.132 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.ThuongHieuRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.133 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.project.Shopapp.repositories.TokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-01 11:15:48.133 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-08-01 11:15:49.586 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 11:15:49.603 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-01 11:15:49.606 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 11:15:49.606 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-08-01 11:15:49.699 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 11:15:49.700 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3489 ms
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/migration.
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:dev/db/migration' ...
2025-08-01 11:15:50.177 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:dev/db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@76ed5528
 ...
2025-08-01 11:15:50.178 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/D:/HocTap/JavaEE/Project/ShopApp/ShopApp_Backend/Shopapp/target/classes/dev/db/migration
2025-08-01 11:15:50.179 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\
2025-08-01 11:15:50.179 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: D:\HocTap\JavaEE\Project\ShopApp\ShopApp_Backend\Shopapp\target\classes\dev\db\migration (dev/db/migration)
2025-08-01 11:15:50.181 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V1__alter_some_tables.sql
2025-08-01 11:15:50.181 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V2__change_tokens.sql
2025-08-01 11:15:50.181 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V3__refresh_tokens.sql
2025-08-01 11:15:50.181 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V4__alter_table_feedback.sql
2025-08-01 11:15:50.181 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V5__create_coupon_table.sql
2025-08-01 11:15:50.181 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: dev/db/migration/V6__create_favorites_table.sql
2025-08-01 11:15:50.181 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:dev/db/migration
2025-08-01 11:15:50.614 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V6__create_favorites_table.sql
2025-08-01 11:15:50.615 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V3__refresh_tokens.sql
2025-08-01 11:15:50.615 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__alter_table_feedback.sql
2025-08-01 11:15:50.615 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__change_tokens.sql
2025-08-01 11:15:50.615 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__create_coupon_table.sql
2025-08-01 11:15:50.615 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__alter_some_tables.sql
2025-08-01 11:15:50.626 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/shopapp (MySQL 8.2)
2025-08-01 11:15:50.626 [main] DEBUG org.flywaydb.core.FlywayExecutor - Database Type: MySQL
2025-08-01 11:15:50.626 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: MySQL Connector/J mysql-connector-j-9.1.0 (Revision: cf2917ea44ae2e43a4514a33771035aa99de73bf)
2025-08-01 11:15:50.626 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: false
2025-08-01 11:15:50.627 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-08-01 11:15:50.627 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-08-01 11:15:50.652 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: MySQL 8.2 is newer than this version of Flyway and support has not been tested. The latest supported version of MySQL is 8.1.
2025-08-01 11:15:50.654 [main] DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-08-01 11:15:50.656 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-08-01 11:15:50.663 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-08-01 11:15:50.667 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:15:50.680 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:15:50.681 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:15:50.682 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:15:50.682 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:15:50.682 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:15:50.682 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:15:50.682 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V6__create_favorites_table.sql (filename: V6__create_favorites_table.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V3__refresh_tokens.sql (filename: V3__refresh_tokens.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V4__alter_table_feedback.sql (filename: V4__alter_table_feedback.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V2__change_tokens.sql (filename: V2__change_tokens.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V5__create_coupon_table.sql (filename: V5__create_coupon_table.sql)
2025-08-01 11:15:50.683 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: dev/db/migration/V1__alter_some_tables.sql (filename: V1__alter_some_tables.sql)
2025-08-01 11:15:50.710 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.045s)
2025-08-01 11:15:50.717 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: `shopapp`
2025-08-01 11:15:50.730 [main] DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-08-01 11:15:50.735 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 6
2025-08-01 11:15:50.738 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2025-08-01 11:15:50.748 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 76 of 120M
2025-08-01 11:15:50.907 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 11:15:50.986 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-08-01 11:15:51.026 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 11:15:51.397 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 11:15:51.525 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@1a8b22b5']
	Database driver: undefined/unknown
	Database version: 8.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-01 11:15:53.165 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 11:15:53.167 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 11:15:53.438 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 11:15:54.583 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 11:15:54.777 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-01 11:15:54.778 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-01 11:15:54.840 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception
2025-08-01 11:15:54.843 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.updateAccountDetails(java.lang.String,int,com.project.Shopapp.dtos.UpdateAccountDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:54.878 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception
2025-08-01 11:15:54.878 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAllAccountCustomer(java.lang.String,int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:54.879 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)
2025-08-01 11:15:54.879 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.resetPassword(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:54.880 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:15:54.880 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.createUserAdmin(com.project.Shopapp.dtos.AccountDTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:54.880 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception
2025-08-01 11:15:54.880 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.blockOrEnable(int,int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:54.880 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception
2025-08-01 11:15:54.881 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.getAccountDetails(java.lang.String) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:54.881 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\') or hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception
2025-08-01 11:15:54.881 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.AccountController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.AccountController.uploadProfileImage(org.springframework.web.multipart.MultipartFile) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.288 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception
2025-08-01 11:15:55.288 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.createCTDH(com.project.Shopapp.dtos.CTDH_DTO,org.springframework.validation.BindingResult) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.290 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:15:55.290 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.updateCTDH(int,com.project.Shopapp.dtos.CTDH_DTO) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.290 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)
2025-08-01 11:15:55.290 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.CTDHController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.CTDHController.deleteCTDH(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.332 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)
2025-08-01 11:15:55.332 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getAllDonHangByKeyword(java.lang.String,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.335 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception
2025-08-01 11:15:55.335 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.getDonHang_USERID(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.336 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception
2025-08-01 11:15:55.336 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.DonHangController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.DonHangController.cancelOrder(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.372 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception
2025-08-01 11:15:55.373 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.generateFakeFeedbacks() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.374 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:15:55.374 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.updateFeedback(int,com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.374 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception
2025-08-01 11:15:55.374 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.FeedbackController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.FeedbackController.insertFeedback(com.project.Shopapp.dtos.FeedbackDTO) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.488 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception
2025-08-01 11:15:55.488 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.HinhAnhSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.HinhAnhSanPhamController.delete(int) throws com.project.Shopapp.exceptions.DataNotFoundException,java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.576 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)
2025-08-01 11:15:55.576 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.updateLoaiSanPham(int,com.project.Shopapp.dtos.LoaiSanPhamDTO)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.580 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)
2025-08-01 11:15:55.580 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.createLoaiSanPham(com.project.Shopapp.dtos.LoaiSanPhamDTO,org.springframework.validation.BindingResult)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.581 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception
2025-08-01 11:15:55.581 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.LoaiSanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.LoaiSanPhamController.deleteLoaiSanPham(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.614 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception
2025-08-01 11:15:55.615 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.unlikeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.620 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception
2025-08-01 11:15:55.621 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.likeProduct(int) throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.621 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception
2025-08-01 11:15:55.621 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.generateFakeLikes() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.622 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)
2025-08-01 11:15:55.622 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.deleteSanPham(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:55.623 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\') or hasRole(\'ROLE_USER\')") found on specific method: public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception
2025-08-01 11:15:55.624 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.project.Shopapp.controllers.SanPhamController; public org.springframework.http.ResponseEntity com.project.Shopapp.controllers.SanPhamController.findFavoriteProductsByUserId() throws java.lang.Exception]] with attributes [[authorize: 'hasRole('ROLE_ADMIN') or hasRole('ROLE_USER')', filter: 'null', filterTarget: 'null']]
2025-08-01 11:15:56.317 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/api/v1/actuator'
2025-08-01 11:15:56.530 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure Or [Mvc [pattern='EndpointRequestMatcher includes=[*], excludes=[], includeLinks=true']] with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-01 11:15:56.713 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-08-01 11:15:57.397 [main] INFO  o.a.k.c.admin.AdminClientConfig - AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-08-01 11:15:57.507 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.8.1
2025-08-01 11:15:57.507 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 70d6ff42debf7e17
2025-08-01 11:15:57.507 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1754021757506
2025-08-01 11:15:57.811 [kafka-admin-client-thread | adminclient-1] WARN  o.a.k.clients.admin.KafkaAdminClient - [AdminClient clientId=adminclient-1] The DescribeTopicPartitions API is not supported, using Metadata API to describe topics.
2025-08-01 11:15:57.818 [kafka-admin-client-thread | adminclient-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.admin.client for adminclient-1 unregistered
2025-08-01 11:15:57.821 [kafka-admin-client-thread | adminclient-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-08-01 11:15:57.821 [kafka-admin-client-thread | adminclient-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-08-01 11:15:57.821 [kafka-admin-client-thread | adminclient-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-08-01 11:15:57.825 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-01 11:15:57.835 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-01 11:15:57.852 [main] INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-groupA-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = groupA
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer

2025-08-01 11:15:57.879 [main] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-08-01 11:15:57.914 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.8.1
2025-08-01 11:15:57.914 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 70d6ff42debf7e17
2025-08-01 11:15:57.915 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1754021757914
2025-08-01 11:15:57.922 [main] INFO  o.a.k.c.c.i.LegacyKafkaConsumer - [Consumer clientId=consumer-groupA-1, groupId=groupA] Subscribed to topic(s): get-all-categories, insert-a-category
2025-08-01 11:15:57.944 [groupA-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cluster ID: osLRuSnKRPO9CdS1LJ8KLw
2025-08-01 11:15:57.945 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Discovered group coordinator 127.0.0.1:9092 (id: 2147483646 rack: null)
2025-08-01 11:15:57.947 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:15:57.947 [main] INFO  c.project.Shopapp.ShopappApplication - Started ShopappApplication in 12.262 seconds (process running for 13.015)
2025-08-01 11:15:57.966 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: need to re-join with the given member-id: consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1
2025-08-01 11:15:57.966 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:15:59.262 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=14, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:15:59.266 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=14, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:15:59.268 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[])
2025-08-01 11:15:59.268 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: 
2025-08-01 11:15:59.270 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: []
2025-08-01 11:16:32.350 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: group is already rebalancing
2025-08-01 11:16:32.351 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions 
2025-08-01 11:16:32.352 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: []
2025-08-01 11:16:32.352 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:16:32.360 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=15, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:16:32.366 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Finished assignment for group at generation 15: {consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1=Assignment(partitions=[get-all-categories-0, insert-a-category-0])}
2025-08-01 11:16:32.374 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=15, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:16:32.375 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[get-all-categories-0, insert-a-category-0])
2025-08-01 11:16:32.378 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: get-all-categories-0, insert-a-category-0
2025-08-01 11:16:32.391 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition get-all-categories-0 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9093 (id: 2 rack: null)], epoch=0}}
2025-08-01 11:16:32.391 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition insert-a-category-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9092 (id: 1 rack: null)], epoch=0}}
2025-08-01 11:16:32.392 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:16:50.422 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: group is already rebalancing
2025-08-01 11:16:50.423 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions get-all-categories-0, insert-a-category-0
2025-08-01 11:16:50.423 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:16:50.423 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:16:50.427 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=16, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:16:50.427 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Finished assignment for group at generation 16: {consumer-groupA-1-20e316bc-8143-460d-9ad2-5a3c7643bc10=Assignment(partitions=[get-all-categories-0, insert-a-category-0]), consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1=Assignment(partitions=[])}
2025-08-01 11:16:50.433 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=16, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:16:50.434 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[])
2025-08-01 11:16:50.434 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: 
2025-08-01 11:16:50.434 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: []
2025-08-01 11:21:42.001 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: group is already rebalancing
2025-08-01 11:21:42.001 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions 
2025-08-01 11:21:42.001 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: []
2025-08-01 11:21:42.001 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:21:42.004 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=17, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:21:42.004 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Finished assignment for group at generation 17: {consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1=Assignment(partitions=[get-all-categories-0, insert-a-category-0])}
2025-08-01 11:21:42.007 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=17, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:21:42.007 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[get-all-categories-0, insert-a-category-0])
2025-08-01 11:21:42.008 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: get-all-categories-0, insert-a-category-0
2025-08-01 11:21:42.011 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition get-all-categories-0 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9093 (id: 2 rack: null)], epoch=0}}
2025-08-01 11:21:42.011 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition insert-a-category-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9092 (id: 1 rack: null)], epoch=0}}
2025-08-01 11:21:42.011 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:21:57.935 [micrometer-kafka-metrics] WARN  i.m.core.instrument.MeterRegistry - This Gauge has been already registered (MeterId{name='kafka.consumer.node.response.rate', tags=[tag(client.id=consumer-groupA-1),tag(kafka.version=3.8.1),tag(node.id=node-1),tag(spring.id=kafkaConsumerFactory.consumer-groupA-1)]}), the Gauge registration will be ignored. Note that subsequent logs will be logged at debug level.
2025-08-01 11:22:06.088 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: group is already rebalancing
2025-08-01 11:22:06.089 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions get-all-categories-0, insert-a-category-0
2025-08-01 11:22:06.089 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:22:06.090 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:22:06.105 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=18, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:22:06.106 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Finished assignment for group at generation 18: {consumer-groupA-1-35a0fa4f-46ad-4b6b-9645-7f6e66e9d080=Assignment(partitions=[get-all-categories-0, insert-a-category-0]), consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1=Assignment(partitions=[])}
2025-08-01 11:22:06.120 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=18, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:22:06.122 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[])
2025-08-01 11:22:06.122 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: 
2025-08-01 11:22:06.122 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: []
2025-08-01 11:24:57.969 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node -1 disconnected.
2025-08-01 11:26:33.629 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: group is already rebalancing
2025-08-01 11:26:33.629 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions 
2025-08-01 11:26:33.629 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: []
2025-08-01 11:26:33.629 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:26:33.632 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=19, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:26:33.632 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Finished assignment for group at generation 19: {consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1=Assignment(partitions=[get-all-categories-0, insert-a-category-0])}
2025-08-01 11:26:33.635 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=19, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:26:33.635 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[get-all-categories-0, insert-a-category-0])
2025-08-01 11:26:33.635 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: get-all-categories-0, insert-a-category-0
2025-08-01 11:26:33.638 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition get-all-categories-0 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9093 (id: 2 rack: null)], epoch=0}}
2025-08-01 11:26:33.638 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition insert-a-category-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9092 (id: 1 rack: null)], epoch=0}}
2025-08-01 11:26:33.638 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:27:00.693 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: group is already rebalancing
2025-08-01 11:27:00.694 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions get-all-categories-0, insert-a-category-0
2025-08-01 11:27:00.694 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:27:00.694 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:27:00.703 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=20, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:27:00.705 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Finished assignment for group at generation 20: {consumer-groupA-1-f72aaf5b-2621-4cd3-a910-4e9848e995ef=Assignment(partitions=[]), consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1=Assignment(partitions=[get-all-categories-0, insert-a-category-0])}
2025-08-01 11:27:00.731 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=20, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:27:00.731 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[get-all-categories-0, insert-a-category-0])
2025-08-01 11:27:00.731 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: get-all-categories-0, insert-a-category-0
2025-08-01 11:27:00.736 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition get-all-categories-0 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9093 (id: 2 rack: null)], epoch=0}}
2025-08-01 11:27:00.736 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition insert-a-category-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9092 (id: 1 rack: null)], epoch=0}}
2025-08-01 11:27:00.737 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:29:01.061 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: group is already rebalancing
2025-08-01 11:29:01.062 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions get-all-categories-0, insert-a-category-0
2025-08-01 11:29:01.062 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:29:01.062 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] (Re-)joining group
2025-08-01 11:29:01.065 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully joined group with generation Generation{generationId=21, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:29:01.065 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Finished assignment for group at generation 21: {consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1=Assignment(partitions=[get-all-categories-0, insert-a-category-0])}
2025-08-01 11:29:01.069 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Successfully synced group in generation Generation{generationId=21, memberId='consumer-groupA-1-af1f8e69-37a6-4f9e-ac55-2e6bb76a14e1', protocol='range'}
2025-08-01 11:29:01.069 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Notifying assignor about the new Assignment(partitions=[get-all-categories-0, insert-a-category-0])
2025-08-01 11:29:01.069 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Adding newly assigned partitions: get-all-categories-0, insert-a-category-0
2025-08-01 11:29:01.073 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition get-all-categories-0 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9093 (id: 2 rack: null)], epoch=0}}
2025-08-01 11:29:01.073 [groupA-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition insert-a-category-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[127.0.0.1:9092 (id: 1 rack: null)], epoch=0}}
2025-08-01 11:29:01.073 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions assigned: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:30:14.331 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:14.332 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight FETCH request with correlation id 1367 due to node 2 being disconnected (elapsed time since creation: 44ms, elapsed time since send: 44ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:14.334 [groupA-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=850878912, epoch=521) to node 2:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:30:14.346 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2147483646 disconnected.
2025-08-01 11:30:14.347 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Group coordinator 127.0.0.1:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable. isDisconnected: true. Rediscovery will be attempted.
2025-08-01 11:30:14.348 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:14.349 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight FETCH request with correlation id 1366 due to node 1 being disconnected (elapsed time since creation: 62ms, elapsed time since send: 62ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:14.349 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight METADATA request with correlation id 1368 due to node 1 being disconnected (elapsed time since creation: 8ms, elapsed time since send: 8ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:14.349 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight FIND_COORDINATOR request with correlation id 1369 due to node 1 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:14.349 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node -1 disconnected.
2025-08-01 11:30:14.350 [groupA-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=132980748, epoch=521) to node 1:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:30:14.456 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:14.457 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1370 due to node 2 being disconnected (elapsed time since creation: 0ms, elapsed time since send: 0ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:14.700 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:14.701 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1371 due to node 1 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:15.110 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:15.110 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1372 due to node 2 being disconnected (elapsed time since creation: 4ms, elapsed time since send: 4ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:15.117 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:15.117 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1373 due to node 1 being disconnected (elapsed time since creation: 4ms, elapsed time since send: 4ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:16.020 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:16.020 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:30:16.915 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:16.916 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:30:17.915 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:17.916 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:30:18.840 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:18.840 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:30:18.920 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:18.920 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:30:19.934 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:19.934 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:30:20.870 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:20.870 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:30:20.872 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:20.872 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:30:21.772 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:21.773 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:30:22.739 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:22.739 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:30:22.778 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:22.779 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:30:23.789 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:23.789 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1374 due to node 1 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:24.057 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:24.057 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1377 due to node 2 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:24.057 [groupA-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=850878912, epoch=INITIAL) to node 2:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:30:24.785 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:24.786 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1378 due to node 1 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:25.642 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:25.642 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1379 due to node 2 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:25.795 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:25.795 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1380 due to node 1 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:26.664 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:26.664 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1381 due to node 2 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:26.819 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:26.819 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1382 due to node 1 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:27.829 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:27.830 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1383 due to node 2 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:28.770 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:28.770 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1384 due to node 1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:28.846 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:28.847 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1385 due to node 2 being disconnected (elapsed time since creation: 7ms, elapsed time since send: 7ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:29.850 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:29.850 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1386 due to node 1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:30.865 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:30.865 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1387 due to node 2 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:31.873 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:31.874 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1388 due to node 1 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:32.879 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:32.880 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1389 due to node 2 being disconnected (elapsed time since creation: 4ms, elapsed time since send: 4ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:33.885 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:33.885 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1390 due to node 1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:34.067 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:34.067 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1393 due to node 2 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:34.067 [groupA-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=850878912, epoch=INITIAL) to node 2:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:30:34.906 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:34.906 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1394 due to node 1 being disconnected (elapsed time since creation: 6ms, elapsed time since send: 6ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:35.919 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:35.919 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1395 due to node 2 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:36.936 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:36.936 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1396 due to node 1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:37.799 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:37.801 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1397 due to node 2 being disconnected (elapsed time since creation: 6ms, elapsed time since send: 6ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:37.981 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:37.982 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1398 due to node 1 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:38.922 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:38.922 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1399 due to node 2 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:39.076 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:30:39.077 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1402 due to node 1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:39.077 [groupA-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=132980748, epoch=INITIAL) to node 1:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:30:39.930 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:30:39.931 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1403 due to node 2 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:30:42.475 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error while fetching metadata with correlation id 1405 : {get-all-categories=LEADER_NOT_AVAILABLE, insert-a-category=LEADER_NOT_AVAILABLE}
2025-08-01 11:30:42.714 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error while fetching metadata with correlation id 1407 : {get-all-categories=LEADER_NOT_AVAILABLE, insert-a-category=LEADER_NOT_AVAILABLE}
2025-08-01 11:30:43.095 [groupA-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-groupA-1, groupId=groupA] Resetting the last seen epoch of partition get-all-categories-0 to 0 since the associated topicId changed from null to 6ccor2r8RdqSMxJPJaKkLA
2025-08-01 11:30:43.096 [groupA-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-groupA-1, groupId=groupA] Resetting the last seen epoch of partition insert-a-category-0 to 0 since the associated topicId changed from null to xaJLyQ5BSJmQdY5lhYQ2TQ
2025-08-01 11:30:43.124 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Discovered group coordinator 127.0.0.1:9092 (id: 2147483646 rack: null)
2025-08-01 11:32:01.161 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:01.162 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight FETCH request with correlation id 1746 due to node 1 being disconnected (elapsed time since creation: 69ms, elapsed time since send: 69ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:32:01.162 [groupA-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=7939065, epoch=153) to node 1:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:32:01.163 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2147483646 disconnected.
2025-08-01 11:32:01.163 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Group coordinator 127.0.0.1:9092 (id: 2147483646 rack: null) is unavailable or invalid due to cause: coordinator unavailable. isDisconnected: true. Rediscovery will be attempted.
2025-08-01 11:32:01.270 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:01.270 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight FETCH request with correlation id 1745 due to node 2 being disconnected (elapsed time since creation: 540ms, elapsed time since send: 540ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:32:01.270 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight METADATA request with correlation id 1747 due to node 2 being disconnected (elapsed time since creation: 106ms, elapsed time since send: 106ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:32:01.270 [groupA-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=567292078, epoch=152) to node 2:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:32:01.377 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:01.377 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1748 due to node 1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:32:01.381 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:01.381 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1749 due to node 2 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:32:01.591 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:01.591 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1750 due to node 1 being disconnected (elapsed time since creation: 3ms, elapsed time since send: 3ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:32:01.973 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:01.973 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1751 due to node 2 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:32:01.989 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:01.989 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Cancelled in-flight API_VERSIONS request with correlation id 1752 due to node 1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, throttle time: 0ms, request timeout: 30000ms)
2025-08-01 11:32:02.762 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:02.763 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:03.735 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:03.735 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:03.765 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:03.765 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:04.737 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:04.737 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:04.776 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:04.776 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:05.784 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:05.784 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:06.796 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:06.797 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:07.807 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:07.807 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:08.823 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:08.823 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:09.198 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:09.198 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:09.198 [groupA-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=7939065, epoch=INITIAL) to node 1:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:32:09.826 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:09.826 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:10.670 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:10.670 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:10.843 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:10.843 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:11.851 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:11.851 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:12.834 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:12.835 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:13.841 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:13.842 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:14.199 [kafka-coordinator-heartbeat-thread | groupA] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-groupA-1, groupId=groupA] Error sending fetch request (sessionId=567292078, epoch=INITIAL) to node 2:
org.apache.kafka.common.errors.DisconnectException: null
2025-08-01 11:32:14.200 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:14.200 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:14.841 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:14.841 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:15.748 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:15.748 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:15.856 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:15.856 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:16.710 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 2 disconnected.
2025-08-01 11:32:16.710 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 2 (/127.0.0.1:9093) could not be established. Node may not be available.
2025-08-01 11:32:16.879 [groupA-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Node 1 disconnected.
2025-08-01 11:32:16.879 [groupA-0-C-1] WARN  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-groupA-1, groupId=groupA] Connection to node 1 (/127.0.0.1:9092) could not be established. Node may not be available.
2025-08-01 11:32:17.293 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-groupA-1, groupId=groupA] Revoke previously assigned partitions get-all-categories-0, insert-a-category-0
2025-08-01 11:32:17.293 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: partitions revoked: [get-all-categories-0, insert-a-category-0]
2025-08-01 11:32:17.293 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-08-01 11:32:17.293 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: consumer pro-actively leaving the group
2025-08-01 11:32:17.293 [groupA-0-C-1] INFO  o.a.k.c.c.i.LegacyKafkaConsumer - [Consumer clientId=consumer-groupA-1, groupId=groupA] Unsubscribed all topics or patterns and assigned partitions
2025-08-01 11:32:17.294 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-08-01 11:32:17.294 [groupA-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-groupA-1, groupId=groupA] Request joining group due to: consumer pro-actively leaving the group
2025-08-01 11:32:17.296 [groupA-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-08-01 11:32:17.296 [groupA-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-08-01 11:32:17.296 [groupA-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-08-01 11:32:17.296 [groupA-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-08-01 11:32:17.299 [groupA-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-groupA-1 unregistered
2025-08-01 11:32:17.300 [groupA-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - groupA: Consumer stopped
2025-08-01 11:32:17.303 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-01 11:32:17.307 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-01 11:32:17.441 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
